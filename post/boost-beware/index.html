<!DOCTYPE html>
<html><head>
<title>Boost beware</title>

<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">
<meta name="title" property="og:title" content="Boost beware">
<meta name="image" property="og:image" content="/images/explosion.jfif">
<meta name="description" property="og:description" content="Be careful while designing boost converters">
<meta name="keywords" content="[circuits]">
<meta name="author" content=""> 









<link rel="stylesheet" href="/scss/journal.min.074c04b896e4e9ec7e517f88eefd59e62ffd212b8c923ac219f7bc81825b28bd.css" integrity="sha256-B0wEuJbk6ex&#43;UX&#43;I7v1Z5i/9ISuMkjrCGfe8gYJbKL0=" media="screen">



<link rel="stylesheet" href="/scss/dark-mode.min.5d4554809a1a12cbf28366c9a81376c1681cdefc525a37617a9741c19b85f22f.css" integrity="sha256-XUVUgJoaEsvyg2bJqBN2wWgc3vxSWjdhepdBwZuF8i8=" media="screen">


<script src="/vendor/js/vue.min.js" ></script>







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora|Montserrat|Fira+Mono|Noto+Serif+SC|Material+Icons" />







</head><body>
    	<div id="app"><div ref="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="/">
    
        <div class="nav-title">
            Asti&#39;s Notes
        </div>
        
        <div class="nav-subtitle">
            FP, Rx, EDA
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/projects">
                Projects
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                Categories
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Tags
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about">
                About
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
<br />



CC by Attribution

    </div>
    
</div><div ref="extraContainer" class="extra-container">
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<h3>Contents</h3>
			
				
				
					
						
						
							<ul>
						
							<ul>
						
						
								<li>
				 					<a href="#the-symptoms" v-on:click="closeDrawer" id="the-symptoms-nav">
										 The Symptoms
									</a>
								</li>
						
							</ul>
						
							</ul>
						
					
				
			
				
				
					
						
						
							<ul>
						
							<ul>
						
						
								<li>
				 					<a href="#possible-causes" v-on:click="closeDrawer" id="possible-causes-nav">
										 Possible Causes
									</a>
								</li>
						
							</ul>
						
							</ul>
						
					
				
			
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a class="pagination-action" v-on:click="toggleDarkMode">
            <i class="material-icons pagination-action-icon" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons pagination-action-icon" v-else="isDarkMode">
                brightness_7
            </i>
        </a>
        
        
    </div>
</div><div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/projects">
                    Projects
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    Categories
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Tags
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about">
                    About
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<h3>Contents</h3>
			
				
				
					
						
						
							<ul>
						
							<ul>
						
						
								<li>
				 					<a href="#the-symptoms" v-on:click="closeDrawer" id="the-symptoms-nav">
										 The Symptoms
									</a>
								</li>
						
							</ul>
						
							</ul>
						
					
				
			
				
				
					
						
						
							<ul>
						
							<ul>
						
						
								<li>
				 					<a href="#possible-causes" v-on:click="closeDrawer" id="possible-causes-nav">
										 Possible Causes
									</a>
								</li>
						
							</ul>
						
							</ul>
						
					
				
			
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="/">
            Asti&#39;s Notes
        </a>
        
        <button type="button" class="nav-darkmode-toggle" v-on:click="toggleDarkMode">
            <i class="material-icons" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons" v-else="isDarkMode">
                brightness_7
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="/">
        <div class="single-column-header-title">Asti&#39;s Notes</div>
        
        <div class="single-column-header-subtitle">FP, Rx, EDA</div>
        

    </a>
</div>
            <div id="content">
<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                 style="background-image: url('/images/explosion.jfif')">
                <div class="post-title">
                    Boost beware
                    
                    <div class="post-subtitle">
                        Be careful while designing boost converters
                    </div>
                    
                    <div class="post-meta">
                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/eda">/eda</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/circuits">#circuits</a>
                                &nbsp;
                            
                        

                                                
                        <i class="material-icons" style="">schedule</i>
                        <time itemprop="datePublished">
                            2019-12-21
                        </time>
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                <div class="post-body">
                    <p>There are a lot of new small-form factor, low part count boost converters being released for battery boost applications. These typically switch at high frequencies to reduce component sizes.</p>
<h2 id="the-symptoms">The Symptoms</h2>
<ul>
<li>Devices sometimes brownout with no pattern</li>
<li><a href="https://en.wikipedia.org/wiki/Heisenbug">Heisenbugs</a></li>
<li>Weird disconnections and readings</li>
</ul>
<h2 id="possible-causes">Possible Causes</h2>
<ul>
<li>
<p>Long path between output caps and output pin - these could act as parasitic inductances, causing output spikes when load changes</p>
</li>
<li>
<p>High impedance path between IC ground and output ground - this should be obvious, but is most often overlooked because of layout constraints</p>
</li>
<li>
<p>Input voltage passes through the main inductor before being switched - which means that for long input traces - such as long wires from the battery may lead to loop instability if enough input capacitance is not present.</p>
<p>Quoting  TI datasheet:</p>
<blockquote>
<p>When a ceramic capacitor is used at the input and the power is being supplied through long wires, a load step at the output can induce ringing at the VIN pin. This ringing can couple to the output and be mistaken as loop instability or could even damage the part.</p>
</blockquote>
</li>
<li>
<p>The output capacitor affects the  control loop stability of the boost regulator.</p>
<p>Under spec leads to instability, over spec may cause slow response. 
Output capacitor derating needs consideration.</p>
<ul>
<li>Bad ceramics may lose up to 80% capacitance at the rated voltage</li>
<li>Bad electrolytics derate based on temperature and age</li>
<li>Bad aluminum caps which have been in storage may be well derated out of the box</li>
</ul>
</li>
<li>
<p>A related problem, which is not using proper bulk capacitance at the inputs - 
use of only ceramic capacitors</p>
</li>
<li>
<p>Poor quality connectors to the battery/ poor contact / poor choice of connector.</p>
<p>Some batteries use 2.54mm / 1.27mm pitch JST connectors, these usually cannot handle more 1A, and coupled with poor wires, eqv. resistance could be 1 ohm or even more. 1 ohm at 1A is a drop of 1V - that's a 3.7V battery coming in as 2.7V - which is a 27% drop - which means a corresponding increase in current draw - not good for sudden load spikes.</p>
</li>
</ul>
<hr>
<p>Trust nothing, measure.</p>

                    
                    <HR width="100%" id="EOF">
                    <p style="color:#777;">Last modified on 2019-12-21</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="/post/recreate-dos/">
                    Next<br>A DOS-like shell in .Net
                </a>
                
                
                
                <a class="older-posts" href="/post/semihosting/">
                    Previous<br>How to get rid of Semihosting
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                
                <p style="opacity: 0.6" align="center">
                    <small>Comments Disabled.</small>
                </p>
                
            </div>
        </div>
    </div>
</div>

            </div><div id="single-column-footer">
<br />



CC by Attribution
</div>
            </div>    
            <script src="/js/journal.js"></script>
    </body>
</html>
